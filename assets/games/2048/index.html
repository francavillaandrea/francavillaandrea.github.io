<!DOCTYPE html>
<html lang="it" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2048</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="index.css" />
    <script defer src="script.js"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/Assets/img/Favicon/favicon.ico" sizes="96x96">
    <link rel="apple-touch-icon" sizes="180x180" href="/Assets/img/Favicon/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-title" content="Francavilla Andrea">
    <link rel="manifest" href="/Assets/img/Favicon/site.webmanifest">
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Relief:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container py-4">
        <div class="text-center mb-4">
            <h1 class="display-4 mb-3">2048</h1>
            <p class="lead">Usa le frecce per muovere le tessere. Combina tessere uguali per raggiungere 2048!</p>
            <div class="d-flex justify-content-center gap-3 mb-3">
                <div class="score-box">
                    <div class="score-label">Punteggio</div>
                    <div class="score-value" id="score">0</div>
                </div>
                <div class="score-box">
                    <div class="score-label">Record</div>
                    <div class="score-value" id="best">0</div>
                </div>
            </div>
            <div class="d-flex justify-content-center gap-2">
                <button class="btn btn-primary btn-lg" onclick="resetGame()">
                    <i class="bi bi-arrow-clockwise"></i> Nuova Partita
                </button>
                <button class="btn btn-info btn-lg text-white" onclick="showHowToPlay()">
                    <i class="bi bi-question-lg"></i> Come si gioca?
                </button>
            </div>
        </div>

        <div id="game-container">
            <div id="wrapper"></div>
            <div id="game-over" class="game-over hidden">
                <div class="game-over-content">
                    <h2 id="game-over-title">Game Over!</h2>
                    <p id="game-over-message"></p>
                    <button class="btn btn-success btn-lg" onclick="resetGame()">Riprova</button>
                </div>
            </div>
        </div>

        <div class="text-center mt-4">
            <p class="text-muted">
                <i class="bi bi-keyboard"></i> Usa le frecce della tastiera o i pulsanti qui sotto
            </p>
            <div class="d-flex justify-content-center gap-2">
                <button class="btn btn-outline-secondary" onclick="move('up')">
                    <i class="bi bi-arrow-up"></i>
                </button>
                <div class="d-flex flex-column gap-2">
                    <button class="btn btn-outline-secondary" onclick="move('left')">
                        <i class="bi bi-arrow-left"></i>
                    </button>
                    <button class="btn btn-outline-secondary" onclick="move('right')">
                        <i class="bi bi-arrow-right"></i>
                    </button>
                </div>
                <button class="btn btn-outline-secondary" onclick="move('down')">
                    <i class="bi bi-arrow-down"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- How to Play Modal -->
    <div class="modal fade" id="howToPlayModal" tabindex="-1" aria-labelledby="howToPlayModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="howToPlayModalLabel">Come si gioca a 2048</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>Muovi le tessere:</h6>
                    <p>Usa le frecce della tastiera (<kbd>↑</kbd>, <kbd>↓</kbd>, <kbd>←</kbd>, <kbd>→</kbd>) o i
                        pulsanti direzionali sullo schermo per far scorrere tutte le tessere nella direzione scelta.</p>

                    <h6>Combina i numeri:</h6>
                    <p>Quando due tessere con lo stesso numero si toccano durante il movimento, si fondono in una
                        singola tessera che contiene la somma dei due numeri (es. due '2' diventano un '4').</p>

                    <h6>Generazione di nuove tessere:</h6>
                    <p>Dopo ogni mossa valida, una nuova tessera (un '2' o un '4') appare casualmente in una cella
                        vuota.</p>

                    <h6>L'obiettivo:</h6>
                    <p>Raggiungi la tessera '2048'! Puoi continuare a giocare anche dopo averla creata, cercando di
                        ottenere punteggi più alti.</p>

                    <h6>Fine del gioco:</h6>
                    <p>Il gioco termina quando non ci sono più celle vuote e non è possibile fare altre mosse (cioè,
                        nessuna tessera può essere fusa con un'altra).</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ho capito!</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>